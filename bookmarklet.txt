javascript:(function() {  async function getArtifactContent(button) {        button.click();        console.log(button);        await new Promise(r => setTimeout(r, 100));        let content = document.querySelector('.language-plaintext')?.innerText ||                      %27Content not found%27;        document.querySelector(%27button[aria-label="close"]%27)?.click();        return content;    }       async function processMessage(message) {         let isUser = message.classList.contains(%27font-user-message%27);         let prefix = isUser ? %27**Human:** %27 : %27**Claude:** %27;         let text = message.innerText.trim();           let artifactButtons = Array.from(message.querySelectorAll(%27button[aria-label="Preview contents"]%27));         for (let button of artifactButtons) {             let artifactContent = await getArtifactContent(button);             console.log(`message: ${message.innerText.trim().substr(0, 100)}`);             text = text.replace("Click to open text", `\n\n#### Artifact:\n\n\%60\%60\%60\n${artifactContent}\n\%60\%60\%60\n--------------------------------------------------------------------------------%60);         }          return prefix + '\n' + text;     }     async function getConversationWithArtifacts() {         let messages = Array.from(document.querySelectorAll('.font-user-message, .font-claude-message'));         let conversation = [];         for (var i = 0; i < messages.length; i++) {             conversation.push(await processMessage(messages[i]));         }         return conversation.join('\n\n');     }      getConversationWithArtifacts().then(fullContent => {         let blob = new Blob([fullContent], {type: 'text/plain'});         let a = document.createElement('a');         a.href = URL.createObjectURL(blob);         a.download = document.querySelector('button[data-testid="chat-menu-trigger"]').textContent+ '.md';         a.click();     }); })();
